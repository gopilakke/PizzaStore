package com.pizzastore.admin.controller; import com.pizzastore.admin.entity.MenuItem; import com.pizzastore.admin.repository.MenuItemRepository; import org.springframework.stereotype.Controller; import org.springframework.ui.Model; import org.springframework.web.bind.annotation.*; @Controller @RequestMapping("/admin") public class AdminController { private final MenuItemRepository repo; public AdminController(MenuItemRepository repo){this.repo=repo;} @GetMapping public String index(Model model){ model.addAttribute("menuItems", repo.findAll()); return "admin/index"; } @GetMapping("/menu/new") public String form(Model model){ model.addAttribute("menuItem", new MenuItem()); return "admin/new"; } @PostMapping("/menu") public String create(@ModelAttribute MenuItem menuItem){ repo.save(menuItem); return "redirect:/admin"; } }
