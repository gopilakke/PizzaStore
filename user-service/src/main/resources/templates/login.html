<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org" th:replace="fragments/header :: header"><body><div><h2>Login</h2><p>Use the Auth service to obtain a token (Demo).</p><form id="loginForm"><label>Username (email):</label><input id="username" name="username"/><br/><label>Password:</label><input id="password" type="password"/><br/><label>Role:</label><select id="role"><option value="ROLE_USER">User</option><option value="ROLE_ADMIN">Admin</option></select><br/><button type="button" onclick="doLogin()">Login</button></form><script>function doLogin(){fetch('/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:document.getElementById('username').value,role:document.getElementById('role').value})}).then(r=>r.json()).then(j=>{localStorage.setItem('jwt',j.token); alert('Token saved to localStorage');});}</script></div><div th:replace="fragments/footer :: footer"></div></body></html>
